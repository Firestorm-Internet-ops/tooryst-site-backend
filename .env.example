# ==============================================================================
# APPLICATION CONFIGURATION TEMPLATE
# ==============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

APP_NAME=Storyboard
APP_VERSION=0.1.0
ENVIRONMENT=development  # Options: development, staging, production

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
DATABASE_HOST=localhost
DATABASE_PORT=3306
DATABASE_USER=your_database_user
DATABASE_PASSWORD=your_secure_database_password_here
DATABASE_NAME=storyboard

# ==============================================================================
# ADMIN API KEY
# ==============================================================================
# Generate a secure random key: python -c "import secrets; print(secrets.token_urlsafe(32))"
ADMIN_API_KEY=your_admin_api_key_here

# ==============================================================================
# GOOGLE API KEYS
# ==============================================================================
# Get these from: https://console.cloud.google.com/apis/credentials
GOOGLE_PLACES_API_KEY=your_google_places_api_key_here
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here
GOOGLE_DIRECTIONS_API_KEY=your_google_directions_api_key_here
GOOGLE_CUSTOM_SEARCH_API_KEY=your_google_custom_search_api_key_here
GOOGLE_CUSTOM_SEARCH_ENGINE_ID=your_search_engine_id_here

# ==============================================================================
# YOUTUBE API
# ==============================================================================
# Get this from: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=your_youtube_api_key_here

# ==============================================================================
# REDDIT API
# ==============================================================================
# Get these from: https://www.reddit.com/prefs/apps
REDDIT_CLIENT_ID=your_reddit_client_id_here
REDDIT_CLIENT_SECRET=your_reddit_client_secret_here
REDDIT_USER_AGENT=StoryboardBot

# ==============================================================================
# THIRD-PARTY API KEYS
# ==============================================================================
# OpenWeatherMap: https://home.openweathermap.org/api_keys
OPENWEATHERMAP_API_KEY=your_openweathermap_api_key_here

# Gemini AI: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# BestTime API: https://besttime.app/
BESTTIME_API_PRIVATE_KEY=your_besttime_api_key_here

# ==============================================================================
# CONTENT LIMITS
# ==============================================================================
HERO_CAROUSEL_IMAGE_COUNT=10
REVIEW_CARD_COUNT=5
REVIEW_SECTION_COUNT=10
YOUTUBE_SHORTS_COUNT=10
NEARBY_ATTRACTIONS_COUNT=10
TIPS_CARD_COUNT=3
HIGHLIGHTS_COUNT=10

# ==============================================================================
# API RATE LIMITING
# ==============================================================================
API_RATE_LIMIT_PER_MINUTE=60
API_RETRY_MAX_ATTEMPTS=3
API_RETRY_BACKOFF_FACTOR=2

# ==============================================================================
# PIPELINE CONFIGURATION
# ==============================================================================
PIPELINE_BATCH_SIZE=10
PIPELINE_CONCURRENT_REQUESTS=5
PIPELINE_TIMEOUT_SECONDS=300

# ==============================================================================
# FILE MONITORING
# ==============================================================================
FILE_MONITOR_ENABLED=true
INPUT_FILE_PATTERN=attractions.xlsx
MONITOR_DEBOUNCE_SECONDS=1.0

# ==============================================================================
# SCHEDULER SETTINGS
# ==============================================================================
SCHEDULER_ENABLED=true
WEATHER_REFRESH_HOUR=3
BEST_TIMES_REFRESH_HOUR=2
VISITOR_INFO_REFRESH_DAY=monday
VISITOR_INFO_REFRESH_HOUR=3

# ==============================================================================
# CELERY & REDIS CONFIGURATION
# ==============================================================================
CELERY_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_DEFAULT_QUEUE=pipeline
CELERY_CRON_QUEUE=pipeline-cron
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_DEFAULT_RETRY_DELAY_SECONDS=60
CELERY_TASK_TIME_LIMIT_SECONDS=1800
CELERY_TIMEZONE=UTC
CELERY_ENABLE_BEAT=true

# ==============================================================================
# LOGGING
# ==============================================================================
LOG_LEVEL=INFO
LOG_FILE_PATH=server/logs/pipeline.log
CORS_ALLOWED_ORIGINS=*

# ==============================================================================
# BACKUP SETTINGS
# ==============================================================================
BACKUP_DIR=backend/backups
BACKUP_RETENTION_DAYS=30

# ==============================================================================
# PERFORMANCE SETTINGS
# ==============================================================================
# Parallel Processing
PARALLEL_BATCH_SIZE=10
PARALLEL_MAX_WORKERS=20

# Redis Cache Settings
REDIS_CACHE_ENABLED=true
REDIS_CACHE_HOST=localhost
REDIS_CACHE_PORT=6379
REDIS_CACHE_DB=2
REDIS_CACHE_PASSWORD=
REDIS_CACHE_TTL_GOOGLE_PLACES=604800
REDIS_CACHE_TTL_YOUTUBE=259200
REDIS_CACHE_TTL_WEATHER=10800
REDIS_CACHE_TTL_BESTTIME=86400

# Connection Pooling
HTTP_MAX_CONNECTIONS=100
HTTP_MAX_KEEPALIVE=50
HTTP_ENABLE_HTTP2=true

# ==============================================================================
# NOTIFICATION SETTINGS
# ==============================================================================
NOTIFICATIONS_ENABLED=true

# Slack Notifications
SLACK_WEBHOOK_URL=

# Email Notifications (SMTP)
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=
SMTP_TO_EMAILS=admin@example.com,ops@example.com

# ==============================================================================
# IMAGE & MEDIA SETTINGS
# ==============================================================================
PHOTO_WIDTH_SMALL=400
PHOTO_WIDTH_LARGE=800
PHOTO_WIDTH_THUMBNAIL=200
MAP_DEFAULT_ZOOM=15
MAP_SNAPSHOT_WIDTH=800
MAP_SNAPSHOT_HEIGHT=600
HERO_IMAGE_MAX_WIDTH=1600

# ==============================================================================
# DISTANCE & LOCATION SETTINGS
# ==============================================================================
NEARBY_MAX_DISTANCE_KM=10.0
DISTANCE_MAX_KM=999.999
WALKING_SPEED_KMH=5.0

# Default coordinates (fallback for attractions without coordinates)
DEFAULT_LATITUDE=48.8584
DEFAULT_LONGITUDE=2.2945

# ==============================================================================
# RETRY & TIMEOUT SETTINGS
# ==============================================================================
DEFAULT_RETRY_COUNT=3
MAX_RETRY_COUNT=5
API_TIMEOUT_SECONDS=30
REDIS_RETRY_DELAY_SECONDS=1
GEMINI_API_TIMEOUT_SECONDS=30
BACKUP_TIMEOUT_SECONDS=300
REDIS_SOCKET_TIMEOUT_SECONDS=5
CELERY_INSPECT_TIMEOUT_SECONDS=5
STAGE_SLOT_TIMEOUT_SECONDS=60

# ==============================================================================
# RATE LIMITING & QUOTAS
# ==============================================================================
MAX_ATTRACTIONS_PER_CITY=100
MIN_VIDEO_COUNT_THRESHOLD=5
NEARBY_ATTRACTIONS_MULTIPLIER=2

# ==============================================================================
# PAGINATION DEFAULTS
# ==============================================================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100
FEATURED_ATTRACTIONS_LIMIT=12
SEARCH_RESULTS_LIMIT=20
SEARCH_SUGGESTIONS_LIMIT=5
COLLAGE_IMAGE_LIMIT=6

# ==============================================================================
# REDIS CONFIGURATION
# ==============================================================================
REDIS_MAX_STAGE_ATTEMPTS=3
REDIS_SEMAPHORE_TIMEOUT_SECONDS=300
REDIS_QUEUE_PRIORITY_HIGH=1
REDIS_QUEUE_PRIORITY_NORMAL=5

# ==============================================================================
# CACHE TTLs (in seconds)
# ==============================================================================
CACHE_TTL_WEATHER=10800
CACHE_TTL_BEST_TIME=432000
CACHE_TTL_HERO_IMAGES=604800
CACHE_TTL_REVIEWS=86400
CACHE_TTL_REDDIT=21600

# ==============================================================================
# BATCH PROCESSING
# ==============================================================================
PARALLEL_BATCH_SIZE=10
PIPELINE_STAGE_COUNT=10

# ==============================================================================
# DATA REFRESH INTERVALS (in days)
# ==============================================================================
REFRESH_INTERVAL_BEST_TIME=5
REFRESH_INTERVAL_WEATHER=3
REFRESH_INTERVAL_VISITOR_INFO=7
BEST_TIME_REFRESH_THRESHOLD_DAYS=2

# ==============================================================================
# BEST TIME SETTINGS
# ==============================================================================
BEST_TIME_WINDOW_HOURS=2
BEST_TIME_CLOSING_HOUR_DEFAULT=23
BEST_TIME_MORNING_THRESHOLD_HOUR=12
BEST_TIME_CROWD_LEVEL_MIN=0
BEST_TIME_CROWD_LEVEL_MAX=5
BEST_TIME_INTENSITY_CLOSED=999

# ==============================================================================
# YOUTUBE & VIDEO SETTINGS
# ==============================================================================
YOUTUBE_RETRY_DELAY_SECONDS=1
YOUTUBE_RETRY_MAX_ATTEMPTS=2

# ==============================================================================
# DEBOUNCE & TIMING SETTINGS
# ==============================================================================
SEARCH_DEBOUNCE_MS=300
REQUEST_DELAY_BETWEEN_CALLS_SECONDS=1

# ==============================================================================
# LOGGING & DEBUG
# ==============================================================================
LOG_SEPARATOR_LENGTH=80
RESPONSE_TEXT_PREVIEW_LENGTH=200
ERROR_MESSAGE_TRUNCATION_LENGTH=400
RESPONSE_TEXT_TRUNCATION_LENGTH=500

# ==============================================================================
# SENTRY CONFIGURATION
# ==============================================================================
# Get this from: https://sentry.io/settings/projects/
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0
SENTRY_SEND_DEFAULT_PII=false
